{"id":"mitamae-0eg","title":"Add SECURITY.md policy","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:55:10.606323-07:00","updated_at":"2025-12-18T10:34:15.171787-07:00","closed_at":"2025-12-18T10:34:15.171787-07:00","close_reason":"Closed"}
{"id":"mitamae-0hp","title":"Add Windows user/group resource support","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:42.172933-07:00","updated_at":"2025-12-18T10:49:42.172933-07:00","dependencies":[{"issue_id":"mitamae-0hp","depends_on_id":"mitamae-6cl","type":"blocks","created_at":"2025-12-18T12:46:01.907328-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-1me","title":"Investigate Windows-specific mruby gem compatibility","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:37.008184-07:00","updated_at":"2025-12-18T11:14:51.863638-07:00"}
{"id":"mitamae-260","title":"Add RuboCop linting and code formatting","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:55:04.146493-07:00","updated_at":"2025-12-18T10:34:10.707773-07:00","closed_at":"2025-12-18T10:34:10.707773-07:00","close_reason":"Closed"}
{"id":"mitamae-2dq","title":"Add Windows file permission support (ACLs)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:44.65841-07:00","updated_at":"2025-12-18T10:49:44.65841-07:00","dependencies":[{"issue_id":"mitamae-2dq","depends_on_id":"mitamae-6cl","type":"blocks","created_at":"2025-12-18T12:46:01.982484-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-2ed","title":"Fix Windows build failure in mruby-process (missing sys/wait.h)","description":"Summary: Windows CI fails compiling mruby-process because process.c includes POSIX headers (sys/wait.h, sys/select.h, unistd.h) and uses fork/waitpid/kill APIs. Implement Windows API-backed equivalents and update mitamae to use the forked mruby-process.\n\nFiles to modify:\n- mruby-process/src/process.c (Windows implementations using Win32 APIs; avoid POSIX headers)\n- mrbgem.rake (use github: 'dsisnero/mruby-process')\n\nImplementation steps:\n1. Add _WIN32 guards around POSIX-only includes and functions.\n2. Implement Windows helpers for getpid/getppid, kill, waitpid, sleep (use Win32 APIs).\n3. Define Windows-friendly WIFEXITED/WEXITSTATUS/etc macros for Process::Status.\n4. Push changes to dsisnero/mruby-process and update mitamae dependency.\n5. Rerun Windows CI.\n\nExample:\n- Before: #include \u003csys/wait.h\u003e fails on Windows\n- After: Windows builds use Win32 APIs and provide Process helpers.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-21T09:00:09.48966-07:00","updated_at":"2025-12-21T09:00:25.842323-07:00"}
{"id":"mitamae-4p0","title":"Test response file functionality in mrbc","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T14:22:52.733507-07:00","updated_at":"2025-12-21T07:49:15.878292-07:00","closed_at":"2025-12-21T07:49:15.878292-07:00","close_reason":"Done"}
{"id":"mitamae-5qc","title":"Add RELEASE.md process documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:55:12.851614-07:00","updated_at":"2025-12-18T10:34:16.713973-07:00","closed_at":"2025-12-18T10:34:16.713973-07:00","close_reason":"Closed"}
{"id":"mitamae-6cl","title":"Fix Windows build failure (mruby-onig-regexp dependency)","description":"Windows build failures due to mruby-onig-regexp dependency on oniguruma library. Updated Windows CI workflows to install vcpkg pkgconf and set PKG_CONFIG_PATH. Also added patch to mruby command.rb to use response files for \u003e100 files (Windows command line limit). Need to verify both fixes work.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-18T12:45:30.540256-07:00","updated_at":"2025-12-18T14:57:02.329124-07:00"}
{"id":"mitamae-7lm","title":"Implement alternative Windows command line length workaround if response files fail","description":"If response file approach fails due to linker/compiler issues with load_response_file function, implement alternative solutions for Windows command line length limit:\n\n1. **Batch compilation**: Split 390+ mruby-specinfra files into multiple batches (e.g., 100 files per batch) and compile separately\n2. **Windows API workaround**: Use GetCommandLine() and CommandLineToArgvW() or other Windows-specific APIs to handle long commands\n3. **Environment variable**: Use environment variables to pass file list (Windows supports longer env vars)\n4. **Temporary file list**: Write file list to temporary batch/shell script and execute it\n5. **Modified build system**: Change mruby build to generate intermediate object files for groups of files\n\nPriority approaches:\n- Batch compilation (simplest): Modify command.rb to split file list when \u003e100 files\n- Windows-specific handling: Use Windows APIs if batch compilation insufficient\n\nFiles to modify:\n- mruby/lib/mruby/build/command.rb (already patched for response files)\n- Rakefile (patching logic)\n- Potentially Windows-specific build configuration\n\nDependencies: Blocks on response file fix attempts (mitamae-nf3.2). If response files cannot be made to work, implement this as fallback.\n\nSuccess criteria:\n- Windows CI passes without \"Arg list too long\" errors\n- All files compiled successfully\n- Cross-compilation still works","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T10:16:13.515539-07:00","updated_at":"2025-12-20T10:16:28.846242-07:00","dependencies":[{"issue_id":"mitamae-7lm","depends_on_id":"mitamae-nf3.2","type":"blocks","created_at":"2025-12-20T10:16:36.443051-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-8ll","title":"Verify response file functionality in mrbc","description":"Once mrbc compiles successfully with load_response_file, need to verify response file functionality works correctly.\n\nFiles to test:\n- test_response.rb (test script)\n- mruby/lib/mruby/build/command.rb (response file creation logic)\n- mruby/mrbgems/mruby-bin-mrbc/tools/mrbc/mrbc.c (response file parsing)\n\nImplementation steps:\n1. Build host mrbc binary successfully\n2. Run test_response.rb to test response file creation logic\n3. Create manual test with actual Ruby files and response file\n4. Test edge cases:\n   - Empty response file\n   - Response file with Windows paths (backslashes)\n   - Response file with spaces in filenames\n   - Large number of files (\u003e100)\n5. Verify cleanup of response_argv memory works\n6. Test integration with mruby build system (command.rb) for specinfra files\n7. Ensure cross-compilation still works\n\nExample test:\n- Create test Ruby files\n- Generate response file\n- Run mrbc with @response_file\n- Verify compilation succeeds\n- Check memory cleanup","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T14:23:05.767499-07:00","updated_at":"2025-12-19T14:23:18.634673-07:00","dependencies":[{"issue_id":"mitamae-8ll","depends_on_id":"mitamae-x1f","type":"discovered-from","created_at":"2025-12-19T14:23:05.769016-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-amy","title":"Update CI to test both Chocolatey and winget","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:52.079164-07:00","updated_at":"2025-12-18T11:14:46.937225-07:00","closed_at":"2025-12-18T11:14:46.937227-07:00"}
{"id":"mitamae-auw","title":"Add Windows service resource support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:39.66604-07:00","updated_at":"2025-12-18T11:14:41.265844-07:00","closed_at":"2025-12-18T11:14:41.265847-07:00"}
{"id":"mitamae-c3h","title":"integrate beads fully","description":"Fully integrated beads (bd) for issue tracking. Added comprehensive instructions to AGENTS.md covering workflow, dependencies, and best practices. Installed bd git hooks (post-merge, pre-push) for automatic sync. Configured .beads/ directory with issues.jsonl. Implemented agent workflow: bd ready to find work, bd update to claim, bd close when done. All future issue tracking should use bd commands instead of markdown TODOs or other tracking systems.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:50:13.812882-07:00","updated_at":"2025-12-18T12:31:16.53401-07:00","closed_at":"2025-12-18T12:31:16.53401-07:00","close_reason":"Beads (bd) fully integrated with AGENTS.md documentation, git hooks, and workflow established"}
{"id":"mitamae-cib","title":"Enable GitHub Actions in fork repository settings","description":"GitHub Actions may be disabled in the fork repository settings. Need to enable Actions in GitHub UI: Settings → Actions → General → Allow all actions.\n\nAlso ensure gh CLI is configured for the fork:\n\n\nWorkflows have been updated for fork compatibility:\n- Repository owner changed from itamae-kitchen to dsisnero\n- Token references fixed (GITHUBTOKEN → GITHUB_TOKEN)\n- Release job permissions added (contents: write)\n\nCheck workflow runs with:\nin_progress\t\tAdd GitHub CLI workflow monitoring section to AGENTS.md\tWindows Build\tmaster\tpush\t20349206203\t1m43s\t2025-12-18T19:42:32Z\nin_progress\t\tAdd GitHub CLI workflow monitoring section to AGENTS.md\tbuild\tmaster\tpush\t20349206196\t1m43s\t2025-12-18T19:42:32Z\nin_progress\t\tAdd GitHub CLI workflow monitoring section to AGENTS.md\tWindows Test\tmaster\tpush\t20349206188\t1m43s\t2025-12-18T19:42:32Z\nin_progress\t\tUpdate GitHub workflows for fork compatibility\tbuild\tmaster\tpush\t20349141017\t4m13s\t2025-12-18T19:40:02Z\nin_progress\t\tUpdate GitHub workflows for fork compatibility\tWindows Build\tmaster\tpush\t20349140999\t4m13s\t2025-12-18T19:40:02Z\nin_progress\t\tUpdate GitHub workflows for fork compatibility\tWindows Test\tmaster\tpush\t20349140975\t4m13s\t2025-12-18T19:40:02Z\ncompleted\tfailure\tbd sync: 2025-12-18 12:31:23\tbuild\tmaster\tpush\t20348900801\t5m30s\t2025-12-18T19:31:28Z\ncompleted\tfailure\tbd sync: 2025-12-18 12:31:23\tWindows Test\tmaster\tpush\t20348900763\t5m4s\t2025-12-18T19:31:28Z\ncompleted\tfailure\tbd sync: 2025-12-18 12:31:23\tWindows Build\tmaster\tpush\t20348900757\t5m11s\t2025-12-18T19:31:28Z\ncompleted\tfailure\tbd sync: 2025-12-18 12:29:38\tWindows Build\tmaster\tpush\t20348851688\t4m46s\t2025-12-18T19:29:43Z\ncompleted\tfailure\tbd sync: 2025-12-18 12:29:38\tWindows Test\tmaster\tpush\t20348851674\t7m28s\t2025-12-18T19:29:43Z\ncompleted\tfailure\tbd sync: 2025-12-18 12:29:38\tbuild\tmaster\tpush\t20348851668\t5m32s\t2025-12-18T19:29:43Z\ncompleted\tfailure\tFix Windows builds by setting MRUBY_YAML_USE_SYSTEM_LIBRARY=1\tWindows Build\tmaster\tpush\t20347352897\t5m18s\t2025-12-18T18:37:33Z\ncompleted\tfailure\tFix Windows builds by setting MRUBY_YAML_USE_SYSTEM_LIBRARY=1\tWindows Test\tmaster\tpush\t20347352894\t5m17s\t2025-12-18T18:37:33Z\ncompleted\tfailure\tFix Windows builds by setting MRUBY_YAML_USE_SYSTEM_LIBRARY=1\tbuild\tmaster\tpush\t20347352893\t5m20s\t2025-12-18T18:37:33Z\ncompleted\tfailure\tFix Windows builds by setting MRUBY_YAML_USE_SYSTEM_LIBRARY=1\tWindows Package Manager Test\tmaster\tpush\t20347352889\t5m51s\t2025-12-18T18:37:33Z\ncompleted\tfailure\tUpdate actions/upload-artifact from v3 to v4\tWindows Test\tmaster\tpush\t20347192341\t3m12s\t2025-12-18T18:31:20Z\ncompleted\tfailure\tUpdate actions/upload-artifact from v3 to v4\tWindows Build\tmaster\tpush\t20347192328\t2m27s\t2025-12-18T18:31:20Z\ncompleted\tfailure\tUpdate actions/upload-artifact from v3 to v4\tbuild\tmaster\tpush\t20347192319\t5m28s\t2025-12-18T18:31:20Z\ncompleted\tfailure\tTemporarily comment out rubocop gems to fix Windows builds\tbuild\tmaster\tpush\t20347147440\t5m7s\t2025-12-18T18:29:37Z\nbuild\tactive\t148921388\nWindows Test\tactive\t148921586\nWindows Package Manager Test\tactive\t217123053\nWindows Build\tactive\t148921587","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-18T12:43:39.449098-07:00","updated_at":"2025-12-18T12:44:44.491171-07:00","closed_at":"2025-12-18T12:44:44.491171-07:00","close_reason":"Workflows are running but failing. Need to debug specific failures."}
{"id":"mitamae-cwb","title":"Add comprehensive Windows integration tests","description":"Add comprehensive Windows integration tests to verify mitamae functionality on Windows platforms. \n\nCONTEXT: GitHub workflows have been updated for fork compatibility (repository owner changed to dsisnero, token references fixed). Use 'gh' CLI to monitor workflow failures: 'gh run list', 'gh run view \u003cid\u003e --log', etc. (See AGENTS.md for details).\n\nWindows-specific workflow files:\n- windows.yml: Basic Windows build\n- test-windows.yml: Windows integration tests  \n- windows-package-test.yml: Package manager tests\n\nNeed to implement Windows-specific test recipes and verify they pass in CI. Should cover: file operations, package management (Chocolatey/WinGet), services, users/groups, and Windows path handling.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:34.025862-07:00","updated_at":"2025-12-18T12:42:51.233578-07:00","dependencies":[{"issue_id":"mitamae-cwb","depends_on_id":"mitamae-6cl","type":"blocks","created_at":"2025-12-18T12:45:53.873202-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-e13","title":"Add CONTRIBUTING.md guidelines","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:55:06.397927-07:00","updated_at":"2025-12-18T10:34:12.109389-07:00","closed_at":"2025-12-18T10:34:12.109389-07:00","close_reason":"Closed"}
{"id":"mitamae-f22","title":"Fix Windows CI junction cleanup failure","description":"Summary: Windows CI fails in Build mitamae due to Remove-Item failing on the junction path (D:\\m) being in use, causing the job to exit 1. Update workflows to ignore cleanup errors and reset location before removing the junction.\n\nFiles to modify:\n- .github/workflows/windows.yml\n- .github/workflows/test-windows.yml\n- .github/workflows/windows-package-test.yml\n\nImplementation steps:\n1. In each workflow Build mitamae step, add -ErrorAction SilentlyContinue to Remove-Item for the junction path.\n2. Ensure the script Set-Location back to the original directory before cleanup.\n3. Rerun Windows workflows to confirm cleanup no longer fails.\n\nExample:\n- Before: Remove-Item $shortPath -Force -Recurse\n- After: Set-Location $currentDir; Remove-Item $shortPath -Force -Recurse -ErrorAction SilentlyContinue","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-21T08:50:29.255966-07:00","updated_at":"2025-12-21T08:51:47.19072-07:00","closed_at":"2025-12-21T08:51:47.19072-07:00","close_reason":"Done"}
{"id":"mitamae-fc8","title":"Fix Windows command line length (Arg list too long) for mruby-specinfra compilation","description":"Windows build fails with 'Errno::E2BIG: Arg list too long' when mrbc tries to compile many mruby-specinfra mrblib files. Added patch to mruby command.rb to use response files when file count \u003e 100. Also added debug prints to log command length and response file creation.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-18T13:22:52.409763-07:00","updated_at":"2025-12-18T15:24:58.122968-07:00","dependencies":[{"issue_id":"mitamae-fc8","depends_on_id":"mitamae-6cl","type":"discovered-from","created_at":"2025-12-18T13:22:52.415442-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-hj8","title":"Fix Linux build: mruby directory not downloading","description":"Root cause: mruby directory existed but contained only 'lib' subdirectory (partial extraction). The :mruby task was skipped due to directory existence check. Fixed by checking for Rakefile presence and re-downloading if missing. Added debug prints to verify extraction.","status":"in_progress","issue_type":"bug","created_at":"2025-12-18T14:38:41.279158-07:00","updated_at":"2025-12-18T14:56:50.013845-07:00"}
{"id":"mitamae-ib4","title":"Fix Windows build failure in mruby-etc (missing grp.h)","description":"Fix Windows build failure in mruby-etc (missing grp.h)\n\nSummary: Windows CI fails compiling mruby-etc because etc.c includes POSIX headers (grp.h/pwd.h/unistd.h/utsname.h) that do not exist on Windows. Implement Windows API-backed replacements and point mitamae at the forked mruby-etc repo that contains the fix.\n\nFiles to modify:\n- mruby-etc/src/etc.c (Windows implementations using GetUserNameW, token group lookup, GetComputerNameExW, etc.)\n- mruby-etc/mrbgem.rake (link advapi32 on Windows)\n- mrbgem.rake (use github: 'dsisnero/mruby-etc')\n\nImplementation steps:\n1. Replace Windows stubs with real API-backed helpers for Etc.getpwuid/getpwnam/getgrgid/getgrnam/getlogin/uname.\n2. Add advapi32 linker flags when building on Windows.\n3. Commit and push changes to dsisnero/mruby-etc.\n4. Point mitamae dependency to dsisnero/mruby-etc and push.\n5. Verify Windows CI compiles.\n\nExample:\n- Before: #include \u003cgrp.h\u003e fails on Windows\n- After: Windows build uses Win32 APIs and no POSIX headers","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-21T08:09:32.158159-07:00","updated_at":"2025-12-21T08:28:06.716307-07:00"}
{"id":"mitamae-jnl","title":"Add CODE_OF_CONDUCT.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:55:08.508302-07:00","updated_at":"2025-12-18T10:34:13.623489-07:00","closed_at":"2025-12-18T10:34:13.623489-07:00","close_reason":"Closed"}
{"id":"mitamae-juv","title":"Verify Windows CI passes after response file patch","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-18T16:54:42.564507-07:00","updated_at":"2025-12-18T19:05:06.702963-07:00"}
{"id":"mitamae-nf3","title":"Verify Windows CI passes with response file fix","description":"Original problem: Windows CI fails due to command line length limits when compiling 390+ mruby-specinfra files. After fixing linker error, need to verify Windows CI passes.\n\nWorkflows to check:\n- windows.yml (Windows build)\n- test-windows.yml (Windows integration tests)\n- windows-package-test.yml (Package manager tests)\n\nImplementation steps:\n1. After fixing linker error, push changes\n2. Monitor Windows CI runs\n3. Check for 'Arg list too long' errors are resolved\n4. Verify response files are being created in Windows builds (look for 'MRBC: Creating response file' debug output)\n5. Ensure Windows path handling works correctly (backslashes, drive letters)\n6. Test cross-compilation to Windows from Linux\n7. If issues persist, investigate Windows-specific command line limits or path handling\n\nSuccess criteria:\n- All Windows CI workflows pass (green)\n- No 'Arg list too long' errors\n- Response file debug output appears in logs\n- Cross-compilation produces working Windows binaries","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-19T14:23:26.631178-07:00","updated_at":"2025-12-19T23:50:15.389106-07:00","dependencies":[{"issue_id":"mitamae-nf3","depends_on_id":"mitamae-x1f","type":"discovered-from","created_at":"2025-12-19T14:23:26.632045-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-nf3.1","title":"Fix mrbc.c compilation error: remove non-constant array initializer","description":"Fix compilation error in mrbc.c: force_include array used non-constant dummy_load_response_file variable.\n\nChanged Rakefile patch to remove the problematic array initializer while keeping dummy variable and constructor for linker inclusion.\n\nRoot cause: In C, static array initializers must be constant expressions. dummy_load_response_file is a variable (even though it's a function pointer), not a constant.\n\nFix: Remove the force_include array entirely, keep dummy_load_response_file variable with __attribute__((used)) and constructor that references load_response_file.\n\nExpected outcome: mrbc.c compiles without errors, linker includes load_response_file function, response file support works.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T15:02:14.576142-07:00","updated_at":"2025-12-19T17:54:15.334689-07:00","closed_at":"2025-12-19T17:54:15.334692-07:00","dependencies":[{"issue_id":"mitamae-nf3.1","depends_on_id":"mitamae-nf3","type":"parent-child","created_at":"2025-12-19T15:02:14.581367-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-nf3.2","title":"Add comprehensive mrbc.c patching to ensure all components present","description":"Problem: mrbc.c linker error persists because patching logic only applied when response_argv fields were missing. When file already partially patched, critical components (function definition, dummy variable, cleanup handling) were skipped.\n\nSolution: Add comprehensive patching checks that ensure all required components exist regardless of partial patching state:\n\n1. Ensure load_response_file function definition exists (checks for #warning)\n2. Ensure dummy_load_response_file variable exists with __attribute__((used))\n3. Ensure constructor exists and fix volatile warning\n4. Ensure cleanup function handles response_argv memory\n5. Ensure load_file function detects @response files\n6. Ensure forward declaration has proper attributes\n\nAll checks run even when response_argv already present, ensuring complete patching.","notes":"Added top-level __asm__ volatile references at file scope to force function emission. Multiple redundant references ensure load_response_file symbol cannot be optimized away.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-19T17:54:27.369607-07:00","updated_at":"2025-12-20T10:39:08.753597-07:00","dependencies":[{"issue_id":"mitamae-nf3.2","depends_on_id":"mitamae-nf3","type":"parent-child","created_at":"2025-12-19T17:54:27.372738-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-p37","title":"Add devbox/nix support for Windows development","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:49.520606-07:00","updated_at":"2025-12-18T10:49:49.520606-07:00","dependencies":[{"issue_id":"mitamae-p37","depends_on_id":"mitamae-6cl","type":"blocks","created_at":"2025-12-18T12:46:02.053081-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-pqu","title":"Add pre-merge hook to update from upstream","description":"Added pre-merge-upstream hook script (scripts/pre-merge-upstream.sh) that fetches upstream and fast-forwards the main branch before merging. Hook is installed as .git/hooks/pre-merge-commit and can be skipped via SKIP_PRE_MERGE_UPSTREAM environment variable. Documentation added to CONTRIBUTING.md. The hook ensures the fork stays updated with upstream when merging into the main branch, preventing accidental merges with outdated upstream.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T10:38:41.505792-07:00","updated_at":"2025-12-18T12:29:26.996024-07:00","closed_at":"2025-12-18T12:29:26.996024-07:00","close_reason":"Implemented pre-merge-upstream hook script and documentation"}
{"id":"mitamae-t7k","title":"Add Windows path handling compatibility","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T10:49:47.228821-07:00","updated_at":"2025-12-18T11:14:36.135041-07:00","closed_at":"2025-12-18T11:14:36.135043-07:00"}
{"id":"mitamae-we1","title":"Test mitamae compilation with mruby 3.4","description":"Current mruby version: 3.0.0 (from 2021). Need to test mitamae compilation with mruby 3.4 to:\n1. Determine if Windows command line length issue is resolved upstream\n2. Benefit from bug fixes and improvements in newer mruby versions\n3. Ensure long-term compatibility\n\nImplementation steps:\n1. Research mruby 3.4 changes and breaking changes\n2. Check if response file support (@response_file) already exists in mruby 3.4\n3. Update mruby dependency (submodule or vendored source)\n4. Test compilation on all platforms (Linux, macOS, Windows)\n5. Fix any incompatibilities in mitamae code\n6. Verify Windows CI passes without \"Arg list too long\" errors\n7. Run existing test suite to ensure no regressions\n\nFiles to modify:\n- mruby/ directory (replace with 3.4 source)\n- build_config.rb (adjust configuration if needed)\n- Rakefile (update patching logic if response file support already present)\n\nDependencies: This issue discovered while working on Windows command line length fix (mitamae-nf3). If mruby 3.4 already has response file support, our custom patches may become obsolete.\n\nSuccess criteria:\n- Mitamae compiles successfully with mruby 3.4\n- All existing tests pass\n- Windows CI passes without command line length errors\n- Response file functionality works (if still needed)","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-19T18:33:35.869268-07:00","updated_at":"2025-12-19T18:34:37.814861-07:00","dependencies":[{"issue_id":"mitamae-we1","depends_on_id":"mitamae-nf3","type":"discovered-from","created_at":"2025-12-19T18:35:05.013087-07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mitamae-x1f","title":"Fix linker error: undefined reference to 'load_response_file' in mrbc","description":"CI builds fail with linker error: 'undefined reference to load_response_file' despite function being defined in mrbc.c with __attribute__((used)) and referenced by dummy variable.\n\nRoot cause: Function not being included in final binary despite attempts with __attribute__((used)), dummy variable reference, and (void)casts.\n\nFiles to modify:\n- Rakefile:lines 210-330 (mruby patching logic)\n- mruby/mrbgems/mruby-bin-mrbc/tools/mrbc/mrbc.c (patched file)\n\nImplementation steps:\n1. Examine object file symbols with nm/objdump to verify load_response_file is missing\n2. Try alternative approaches:\n   - Remove __attribute__((used)), ensure function is actually called\n   - Use #pragma GCC keep or similar compiler-specific directives\n   - Place function in separate compilation unit\n   - Use -Wl,--undefined=load_response_file linker flag\n   - Ensure function signature matches exactly\n3. Test locally with 'cd mruby \u0026\u0026 rake' to build host mrbc\n4. Verify mrbc binary contains load_response_file symbol\n5. Update Rakefile patching logic with working solution\n6. Push changes and verify CI passes\n\nExample fix approaches:\n- Force inclusion via linker script\n- Ensure function has external linkage (not static)\n- Add actual call to function in main() or initialization\n\nSTATUS: Fixed in commit 986fce4. Removed duplicate forward declaration, fixed asm syntax, ensured function definition is added. CI running to verify.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-19T14:22:22.528666-07:00","updated_at":"2025-12-20T11:55:22.27039-07:00"}
{"id":"mitamae-z3k","title":"Add pre-commit hooks for code quality","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T09:55:15.132269-07:00","updated_at":"2025-12-18T10:34:18.287542-07:00","closed_at":"2025-12-18T10:34:18.287542-07:00","close_reason":"Closed"}
